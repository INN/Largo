!function(){function t(t){return this.config=t,this.$el=i("#"+this.config.nav_id),this.init()}var i=jQuery;t.prototype.init=function(){return this.ajax_opts={url:this.config.ajax_url,data:{action:"load_more_posts",paged:this.config.paged,is_home:this.config.is_home,is_series_landing:this.config.is_series_landing,opt:this.config.opt},type:"POST",dataType:"html",success:this._success.bind(this),error:this._error},this.bind_events(),this},t.prototype.request=function(){return this.$el.addClass("loading"),this.ajax_opts.data.paged+=1,this.ajax_opts.data.query=JSON.stringify(this.config.query),i.ajax(this.ajax_opts),!1},t.prototype.bind_events=function(){this.$el.find("a").click(this.request.bind(this))},t.prototype._success=function(t){""==t.trim()?this.$el.html("<span>"+this.config.no_more_posts+"</span>"):(i(t),i(t).insertBefore(this.$el)),this.$el.removeClass("loading")},t.prototype._error=function(){throw this.$el.removeClass("loading"),"There was an error fetching more posts"},void 0===window.LoadMorePosts&&(window.LoadMorePosts=t)}();